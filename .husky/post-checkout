#!/bin/sh

# $1 = previous HEAD ref
# $2 = new HEAD ref
# $3 = flag (1 = branch checkout, 0 = file checkout)
if [ "$3" = "1" ]; then
  # Get current branch name
  BRANCH=$(git rev-parse --abbrev-ref HEAD)

  # Skip validation for main and dev branches
  if [ "$BRANCH" != "main" ] && [ "$BRANCH" != "dev" ] && [ "$BRANCH" != "HEAD" ]; then
    bun run validate:branch-name
  fi
fi

exit 0 # Always exit 0 for post-checkout, it's informational
